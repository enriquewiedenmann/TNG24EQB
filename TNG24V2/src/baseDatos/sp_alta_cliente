USE [TNG24V1]
GO
/****** Object:  StoredProcedure [dbo].[SP_ALTACLIENTE]    Script Date: 12/07/2017 2:29:39 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
ALTER PROCEDURE [dbo].[SP_ALTACLIENTE]
@idEnte INT OUTPUT,
@nombre NVARCHAR(100),
@apellido NVARCHAR(100),
@tipoDoc CHAR(3),
@nroDoc  NVARCHAR(15),
@telefono  NVARCHAR(50),
@mail NVARCHAR(50),
@domicilio INT
AS

INSERT INTO TG_ENTE(NOMBRE,APELLIDO,CODTIPODOCUMENTO,NRODOCUMENTO,ESTADO)
VALUES(@nombre,@apellido,@tipoDoc,@nroDoc,'A');


SELECT  @idEnte=MAX(IDENTE) FROM TG_ENTE;

INSERT INTO CT_CLIENTE(IDCLIENTE,TELEFONO,MAIL,IDDOMICILIO,ESTADO)
VALUES (@IDENTE ,@telefono,@mail,@domicilio,'A')
