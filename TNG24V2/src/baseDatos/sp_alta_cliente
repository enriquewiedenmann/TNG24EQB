ALTER PROCEDURE SP_ALTACLIENTE
@idEnte INT OUTPUT,
@nombre NVARCHAR(100),
@apellido NVARCHAR(100),
@tipoDoc CHAR(3),
@nroDoc  NVARCHAR(15),
@telefono  NVARCHAR(50),
@mail NVARCHAR(50),
@domicilio INT
AS

BEGIN TRAN TR_ALTA_CLIENTE
SELECT  @idEnte=MAX(IDENTE)+1 FROM TG_ENTE;
INSERT INTO TG_ENTE(NOMBRE,APELLIDO,CODTIPODOCUMENTO,NRODOCUMENTO,ESTADO)
VALUES(@nombre,@apellido,@tipoDoc,@nroDoc,'A');



INSERT INTO CT_CLIENTE(IDCLIENTE,TELEFONO,MAIL,IDDOMICILIO,ESTADO)
VALUES (@IDENTE ,@telefono,@mail,@domicilio,'A')
COMMIT TRAN;